### 一条pm对应一个region（区域），region有两种模式

* pmem：该范围在系统内存中是连续的，并且可以跨多个 DIMM 交错（硬件内存控制器条带化），也就是不同插槽之间可以形成连续地址
* BLK：设备像传统存储设备一样允许扇区原子性。

### 两种模式之间的差异

虽然 PMEM 提供对 NVDIMM 存储的直接字节可寻址 CPU 加载/存储访问，但它不提供最佳的系统 RAS（恢复、可用性和可维护性）模型。访问损坏的系统物理地址会导致 CPU 异常，而通过 BLK 孔径访问损坏的地址会导致块窗口在寄存器中引发错误状态。后者更符合主机总线适配器连接磁盘所呈现的标准错误模型。此外，如果管理员想要更换内存，则可以更轻松地在 DIMM 模块边界维修系统。将此与 PMEM 进行比较，其中数据可以以不透明的硬件特定方式跨多个 DIMM 交错。

BLK 孔径解决了这些 RAS 问题，但它们的存在也是 ND 子系统复杂性的主要影响因素。它们使实现变得复杂，因为 PMEM 和 BLK 在 DPA 空间中存在别名。任何给定的 DIMM 的 DPA 范围都可能有助于交错 DIMM 的一个或多个系统物理地址集，并且还可以通过其 BLK 孔径对其进行整体访问。通过系统物理地址访问 DPA，同时通过 BLK 孔径访问同一 DPA 会产生未定义的结果。因此，具有这种双接口配置的 DIMM 包含用于存储/检索标签的 DSM 功能。LABEL 有效地将 DPA 空间划分为独占的系统物理地址和 BLK 孔径可访问区域。为简单起见，每个 DIMM 所属的每个交错集都允许有一个 PMEM“区域”。剩余的 DPA 空间可以被划分为任意数量的具有不连续范围的 BLK 设备。
